const downloadBlob=a=>new Promise(((e,t)=>{const n=new XMLHttpRequest;n.responseType="blob",n.open("GET",a,!0),n.onloadend=()=>e(n.response),n.onerror=t,n.send()}));export async function asset(a,e){switch(e??a.match(/(?<=\.)[a-zA-Z0-9_\-]+$/)?.[0]){case"txt":return await(await fetch(a)).text();case"bin":default:return await(await fetch(a)).arrayBuffer();case"wasm":return(await WebAssembly.instantiate(await(await fetch(a)).arrayBuffer(),{})).instance.exports;case"json":return await(await fetch(a)).json();case"png":return await createImageBitmap(await downloadBlob(a))}}