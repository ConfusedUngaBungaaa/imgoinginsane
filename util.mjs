export function $(t){const e=[...document.querySelectorAll(t)];return e.addEventListener=(...t)=>{for(const n of e)n.addEventListener(...t)},e.removeEventListener=(...t)=>{for(const n of e)n.removeEventListener(...t)},e.el=e[0],e.on=e.addEventListener,e.off=e.removeEventListener,e}export function $1(t){return document.querySelector(t)}export function $el(t,e){const n=document.createElement(t);if(e.content&&(n.innerText=e.content),e.attrs)for(const[t,o]of Object.entries(e.attrs))n.setAttribute(t,o);if(e.data)for(const[t,o]of Object.entries(e.data))n.setAttribute(`data-${t}`,o);if(e.class&&n.classList.add(e.class),e.classes)for(const t of e.classes)n.classList.add(t);if(e.id&&(n.id=e.id),e.style){n.style="";for(const[t,o]of Object.entries(e.style))n.style[t]=o}return e.child&&n.appendChild(e.child),e.children&&n.append(...e.children),n}EventTarget.prototype.on=EventTarget.prototype.addEventListener,EventTarget.prototype.off=EventTarget.prototype.removeEventListener,EventTarget.prototype.once=function(t,e,n){const o=function(r){e.call(this,r),this.removeEventListener(t,o,n)};this.addEventListener(t,o,n)};const urlResolver=document.createElement("a");export function $url(t){return urlResolver.href=t,urlResolver.href}export async function $download(t,e){var n=document.createElement("a");const o=await(await fetch(t)).blob();n.href=URL.createObjectURL(o),n.download=e,n.click()}export function $shuffle(t){let e,n=t.length;for(;0!=n;)e=Math.floor(Math.random()*n),n--,[t[n],t[e]]=[t[e],t[n]];return t}export async function $req(t){const e=t.match(/(?<=\.)[^.]*$/)?.[0]??"";return/^json$/i.test(e)?await(await fetch(t)).json():await(await fetch(t)).text()}export function $hsv2rgb(t){const[e,n,o]=[$fmod(t[0],360),$clamp(t[1],100)/100,$clamp(t[2],100)/100],r=o*n,c=r*(1-Math.abs(e/60%2-1)),s=o-r;let a=[0,0,0];const i=e/60|0;let l=i/2|0,f=(l+1)%3;return i%2&&([l,f]=[f,l]),a[l]=r,a[f]=c,a.map((t=>255*(t+s)))}export function $clamp(t,e,n=0){const[o,r]=e<n?[e,n]:[n,e];return t>=r?r:t<=o?o:t}export function $fmod(t,e){return t-e*Math.floor(t/e)}